프림 알고리즘은 그래프에서 \*\*최소 신장 트리(Minimum Spanning Tree, MST)\*\*를 찾는 대표적인 **그리디 알고리즘**입니다.

핵심 아이디어는 임의의 한 정점에서 시작하여, 현재까지 만들어진 트리에 연결된 간선 중 가장 가중치가 낮은 것을 선택해 트리를 점차 확장시켜 나가는 방식입니다. 이 과정에서 다음에 추가할 가장 가중치가 낮은 간선을 효율적으로 찾기 위해 \*\*우선순위 큐(Priority Queue)\*\*를 주로 사용합니다.

-----

## 알고리즘 동작 과정 🔢

1.  **초기화**: 임의의 정점을 시작점으로 선택하고, '방문했음'을 표시합니다. 이 정점과 연결된 모든 간선을 우선순위 큐에 넣습니다.

2.  **반복 및 확장**: 우선순위 큐가 빌 때까지 다음을 반복합니다.

      * 우선순위 큐에서 **가중치가 가장 낮은 간선**을 하나 꺼냅니다.
      * 꺼낸 간선이 연결하는 정점이 **이미 방문한 정점**이라면, 이 간선은 사이클을 유발하므로 무시합니다.
      * 만약 **방문하지 않은 새로운 정점**이라면, 이 간선을 MST에 포함시킵니다.
      * 새롭게 방문한 정점에 '방문했음'을 표시하고, 이 정점과 연결된 모든 간선 중 아직 방문하지 않은 정점으로 향하는 간선들을 우선순위 큐에 넣습니다.

3.  **종료**: 총 `(정점의 개수 - 1)`개의 간선이 선택되면, 모든 정점이 연결된 것이므로 알고리즘을 종료합니다.

-----

## 정확성 증명 (Proof of Correctness) 🧐

프림 알고리즘의 정확성은 \*\*귀류법(Proof by Contradiction)\*\*과 MST의 중요 성질인 \*\*"Cut Property"\*\*를 통해 증명할 수 있습니다.

> **Cut Property**: 그래프의 정점들을 임의의 두 그룹으로 나눴을 때(Cut), 두 그룹을 연결하는 모든 간선(Crossing edge) 중 가장 가중치가 낮은 간선은 반드시 어떤 MST에든 포함된다.

**1. 가정 (Assumption)**

> 프림 알고리즘으로 찾은 신장 트리를 `T`라고 하겠습니다.
> 만약 `T`가 MST가 아니라고 **가정**해 봅시다. 그렇다면 `T`보다 가중치의 합이 더 작은 진짜 MST, `M`이 반드시 존재해야 합니다.

**2. 전개 (Development)**

  * `T`와 `M`은 다르므로, `T`에 포함된 간선 중 `M`에는 없는 간선이 존재합니다.
  * 프림 알고리즘이 `T`를 만드는 과정에서 `M`에 없는 간선을 **최초로 추가하는 시점**을 생각해 봅시다. 이 간선을 `e = (u, v)`라고 하겠습니다.
  * 이 시점에서, 정점 `u`는 이미 트리에 포함된 정점들의 집합(`V_T`)에 속하고, `v`는 아직 포함되지 않은 상태입니다. 이는 `V_T`와 나머지 정점들 사이에 'Cut'이 생성되었음을 의미합니다.
  * 프림 알고리즘은 이 Cut을 가로지르는 모든 간선 중 가장 가중치가 낮은 것으로 `e`를 선택했습니다.
  * 한편, MST `M`에도 `V_T`와 나머지 정점들을 잇는 경로가 반드시 존재하며, 이 경로 상에는 두 그룹을 가로지르는 간선 `f`가 반드시 존재합니다.
  * 프림 알고리즘이 `f` 대신 `e`를 선택했다는 것은, `e`의 가중치가 `f`보다 작거나 같다는 것을 의미합니다. 즉, `weight(e) ≤ weight(f)` 입니다.
  * 이제 MST `M`에서 간선 `f`를 제거하고, 대신 `e`를 추가하여 새로운 신장 트리 `M'`을 만들어 봅시다. (`M' = M - {f} + {e}`)
  * `M'`의 총가중치는 `M`의 총가중치보다 작거나 같습니다. `(weight(M') = weight(M) - weight(f) + weight(e) ≤ weight(M))`

**3. 결론 (Conclusion)**

  * 위 결과는 `M`이 최소 가중치를 갖는 MST라는 최초의 가정에 **모순**되거나, `M'` 역시 `M`과 같은 가중치를 갖는 또 다른 MST임을 보여줍니다.
  * 결론적으로, `T`가 MST가 아니라는 가정은 모순을 일으킵니다. 따라서 **프림 알고리즘으로 찾은 트리 `T`는 항상 최소 신장 트리임이 증명됩니다.**