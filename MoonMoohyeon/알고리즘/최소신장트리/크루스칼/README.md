## 크루스칼 알고리즘 (Kruskal's Algorithm) 이란? 📝

**크루스칼 알고리즘**은 그래프에서 \*\*최소 신장 트리(Minimum Spanning Tree, MST)\*\*를 찾는 대표적인 \*\*그리디 알고리즘(Greedy Algorithm)\*\*입니다.

핵심 아이디어는 매우 단순합니다. \*\*"가장 가중치가 낮은 간선부터 차례대로 선택하되, 사이클(Cycle)을 만들지 않는 것만 골라 트리를 완성한다"\*\*는 전략을 사용합니다. 사이클 생성 여부는 **유니온-파인드(Union-Find)** 자료구조를 이용해 효율적으로 확인할 수 있습니다.

-----

## 알고리즘 동작 과정 🔢

크루스칼 알고리즘은 다음 단계를 순서대로 따릅니다.

1.  **모든 간선 정렬**

      * 그래프에 존재하는 모든 간선을 가중치 기준으로 **오름차순**으로 정렬합니다.

2.  **초기화**

      * 각 정점이 자기 자신만을 원소로 갖는 \*\*서로소 집합(Disjoint Set)\*\*을 만듭니다. (유니온-파인드 자료구조의 초기 상태)
      * 최소 신장 트리를 구성할 간선 리스트(MST)를 비워둡니다.

3.  **간선 선택 및 사이클 확인**

      * 정렬된 간선을 가장 가중치가 낮은 것부터 순서대로 하나씩 확인합니다.
      * 현재 확인하는 간선이 연결하는 두 정점이 **같은 집합에 속해 있는지 확인**합니다. (유니온-파인드의 `find` 연산)
          * **만약 다른 집합에 속해 있다면?**
              * 이 간선을 추가해도 사이클이 생기지 않습니다.
              * 간선을 MST에 추가하고, 두 정점이 속한 집합을 하나로 합칩니다. (유니온-파인드의 `union` 연산)
          * **만약 같은 집합에 속해 있다면?**
              * 이 간선을 추가하면 반드시 사이클이 만들어집니다.
              * 간선을 무시하고 다음으로 넘어갑니다.

4.  **종료**

      * MST에 `(정점의 개수 - 1)`개의 간선이 추가되면 알고리즘을 종료합니다. 완성된 간선 집합이 바로 최소 신장 트리입니다.

-----

## 정확성 증명 (Proof of Correctness) 🧐

크루스칼 알고리즘이 왜 항상 최적의 해답(MST)을 보장하는지는 \*\*귀류법(Proof by Contradiction)\*\*으로 증명할 수 있습니다.

**1. 가정 (Assumption)**

> 크루스칼 알고리즘으로 찾은 신장 트리를 `T`라고 하겠습니다.
> 만약 `T`가 MST가 아니라고 **가정**해 봅시다. 그렇다면 `T`보다 가중치의 합이 더 작은 진짜 MST, `M`이 반드시 존재해야 합니다.

**2. 전개 (Development)**

  * `T`와 `M`은 서로 다른 트리이므로, `T`에는 있지만 `M`에는 없는 간선이 존재합니다.
  * 이러한 간선들 중에서, 크루스칼 알고리즘에 의해 **가장 먼저 선택된 간선**을 `e`라고 합시다.
  * 이제 MST인 `M`에 간선 `e`를 추가해 봅시다. `M`은 이미 모든 정점을 연결하는 트리였으므로, `e`를 추가하면 반드시 **사이클**이 하나 생깁니다.
  * 이 사이클에는 `e`뿐만 아니라, `T`에는 포함되지 않은 간선 `f`도 반드시 존재합니다. (만약 사이클 내의 다른 모든 간선이 `T`에 이미 포함되어 있다면, `e`를 추가하는 순간 `T`에 사이클이 생긴다는 뜻이므로 크루스칼 알고리즘의 원칙에 위배됩니다.)
  * 이제 `e`와 `f`의 가중치를 비교해 봅시다.
      * 크루스칼 알고리즘은 가중치가 낮은 순서대로 간선을 검사합니다. `e`를 선택할 당시, `f`는 사이클을 만들지 않았습니다. (왜냐하면 `e` 이전에 선택된 간선들은 모두 `M`에도 포함되어 있고, `f`는 `M`의 일부이므로 사이클을 만들 리가 없습니다.)
      * 그럼에도 불구하고 알고리즘이 `f`가 아닌 `e`를 선택했다는 것은, `e`의 가중치가 `f`의 가중치보다 작거나 같다는 것을 의미합니다. 즉, `weight(e) ≤ weight(f)` 입니다.
  * 이제 `M`에서 `f`를 제거하고 `e`를 추가하여 새로운 신장 트리 `M'`를 만들어 봅시다. `M' = M - {f} + {e}`
  * `M'`의 총가중치는 `M`의 총가중치보다 작거나 같습니다. `(weight(M') = weight(M) - weight(f) + weight(e) ≤ weight(M))`

**3. 결론 (Conclusion)**

  * 위의 결과는 두 가지를 의미합니다.
    1.  `weight(e) < weight(f)` 라면, `M'`의 가중치는 `M`보다 작습니다. 이는 `M`이 최소 신장 트리라는 최초의 가정에 **모순**됩니다.
    2.  `weight(e) = weight(f)` 라면, `M'` 역시 `M`과 같은 가중치를 가지는 또 다른 MST입니다.
  * 결론적으로, 크루스칼 알고리즘이 만든 트리 `T`가 MST가 아니라는 가정은 모순을 일으킵니다. 따라서 **크루스칼 알고리즘으로 찾은 트리 `T`는 항상 최소 신장 트리임이 증명됩니다.**