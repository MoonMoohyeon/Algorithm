## 빠른 거듭제곱 알고리즘 (Exponentiation by Squaring)

빠른 거듭제곱 알고리즘은 $a^n$과 같은 거듭제곱을 일반적인 방법보다 훨씬 효율적으로 계산하는 알고리즘입니다. 일반적인 방법이 $n$번의 곱셈을 필요로 하는 반면($O(n)$), 이 알고리즘은 **$O(\log n)$의 시간 복잡도**를 가집니다.

---

### 알고리즘 설명

이 알고리즘의 핵심 아이디어는 **지수를 2의 거듭제곱의 합으로 분해**하는 것입니다. 이는 지수 법칙을 재귀적으로 적용하여 곱셈 횟수를 크게 줄입니다.

알고리즘은 지수 $n$이 짝수인지 홀수인지에 따라 다음과 같이 나뉩니다.

1.  **n이 짝수일 경우:**
    $a^n = a^{2 \times (n/2)} = (a^2)^{n/2}$
    $a$를 직접 $n$번 곱하는 대신, **$a^2$을 구한 뒤, 이를 $n/2$번 거듭제곱**합니다. 문제의 크기가 절반으로 줄어듭니다.

2.  **n이 홀수일 경우:**
    $a^n = a \times a^{n-1} = a \times (a^2)^{(n-1)/2}$
    $a$를 한 번 따로 곱해준 뒤, **$n-1$은 짝수가 되므로 위 1번의 과정을 적용**할 수 있습니다.

이 과정을 지수 $n$이 0이 될 때까지 반복합니다. ($a^0 = 1$)

**예시: $3^{10}$ 계산**

* $3^{10} = (3^2)^5 = 9^5$
* $9^5 = 9 \times 9^4 = 9 \times (9^2)^2 = 9 \times 81^2$
* $81^2 = 81 \times 81 = 6561$
* $9 \times 6561 = 59049$

총 4번의 곱셈(제곱 3번, 곱셈 1번)만으로 계산이 완료됩니다. 단순 계산(9번의 곱셈)보다 훨씬 효율적입니다.

---

### 정확성 증명

빠른 거듭제곱 알고리즘의 정확성은 **지수 $n$에 대한 수학적 귀납법**으로 증명할 수 있습니다.

**1. 기본 단계 (Base Case)**
$n=0$일 때, 알고리즘은 $a^0=1$을 반환하며 이는 올바른 값입니다.

**2. 귀납적 가설 (Inductive Hypothesis)**
$n$보다 작은 모든 음이 아닌 정수 $k$에 대해 알고리즘이 $a^k$를 올바르게 계산한다고 가정합니다.

**3. 귀납적 단계 (Inductive Step)**
이제 $n$에 대해서도 알고리즘이 올바른 값을 계산하는지 보이면 됩니다.

* **$n$이 짝수일 경우:**
    알고리즘은 $(a^2)^{n/2}$를 계산합니다.
    $n/2 < n$이므로, 귀납적 가설에 따라 알고리즘은 $(a^2)$에 대한 거듭제곱, 즉 $(a^2)^{n/2}$를 올바르게 계산합니다.
    이 값은 $a^{2 \times (n/2)} = a^n$이므로, $n$이 짝수일 때 알고리즘은 정확합니다.

* **$n$이 홀수일 경우:**
    알고리즘은 $a \times (a^2)^{(n-1)/2}$를 계산합니다.
    $(n-1)/2 < n$이므로, 귀납적 가설에 따라 알고리즘은 $(a^2)^{(n-1)/2}$를 올바르게 계산합니다.
    이 값에 $a$를 곱한 결과는 $a \times a^{2 \times (n-1)/2} = a \times a^{n-1} = a^n$이므로, $n$이 홀수일 때도 알고리즘은 정확합니다.

따라서 수학적 귀납법에 의해 빠른 거듭제곱 알고리즘은 모든 음이 아닌 정수 지수 $n$에 대해 정확한 값을 계산합니다.